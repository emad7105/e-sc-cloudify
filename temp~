


  container3:
    type: docker_container
    properties:
      container_ID: container3
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: scripts/docker-pull.sh
    relationships:
      - type: cloudify.relationships.contained_in
        target: host
      - type: cloudify.relationships.depends_on
        target: container2

  Java3:
    type: spec_library
    properties:
      lib_name: default-jdk
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: scripts/java-install2.sh
          inputs:
            process:
              args: [container3]
    relationships:
      - type: cloudify.relationships.depends_on
        target: container3
      - type: cloudify.relationships.contained_in
        target: container3

  ExportFiles:
    type: exportfiles
    properties:
      block_description: export files
      block_name: ExportFiles.jar
      block_category: File Management
      service_type: block
    interfaces:
      cloudify.interfaces.lifecycle:
        create: 
          implementation: scripts/block-deploy3.sh
          inputs:
            process:
             args: [realeScWF, ExportFiles, container3, 'https://github.com/rawaqasha/eSc-blocks.git']
    relationships:
      - type: cloudify.relationships.contained_in
        target: container3
      - type: cloudify.relationships.depends_on
        target: container3
      - type: block_connection
        target: FileJoin
        source_interfaces:
          cloudify.interfaces.relationship_lifecycle:
            postconfigure:
              implementation: scripts/preconfigure.sh
              inputs:
                process:
                  args: [realeScWF/FileJoin/file-3, ExportFiles/file-list, out]
      - type: cloudify.relationships.depends_on
        target: Java3

  finalBlock:
    type: cloudify.nodes.ApplicationModule
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: scripts/final.sh
          inputs:
            process:
              args: [realeScWF]
    relationships:
      - type: cloudify.relationships.contained_in
        target: host
      - type: cloudify.relationships.depends_on
        target: ExportFiles
